
      <div><h2>FormHelperの改善</h2>
<p>FormHelperはCakePHPで最もよく使われるクラスのうちの一つで、いくつかの改善が施されました。</p>
<h3>エンティティの階層制限</h3>
<p>1.2 では、ネストされたキーが5までに強く制限されていました。これは、幾ばくかのコンテキストでフォーム入力を作るときに重要な制限を引き起こしました。1.3 では、フォームの要素のキーとして、無限にネストされたものが作れます。また、Validationエラーと値の読み出しにも任意の階層が与えられています。<br></p>
<h3>Modelのイントロスペクション<a href="ref1">(*1)</a></h3>
<p>hasMany などのアソシエーションへの<code>maxlength</code>のようなプロパティや、「required」クラスの追加が、Modelのイントロスペクションのサポートによって改善されました。以前は、イントロスペクションされるのは一つのクラスと限られたアソシエーションのみでした。1.3 では、必要とされるモデルがイントロスペクションされ、バリデーションと maxlength のような追加情報が提供されます。</p>
<h3>input() のデフォルトオプション</h3>
<p>以前は、<code>'div' =&gt; false</code>や<code>'label' =&gt; false</code>といったオプションを使いたい場合は、<code>input()</code>を呼ぶたびにこれらのオプションをセットする必要がありました。代わりに1.3 では、<code>inputDefaults</code>キーを用いて<code>input()</code>のデフォルトのオプションを定義することができます。</p>
<pre>
<code class="php"> echo $this-&gt;Form-&gt;create('User', array(
        'inputDefaults' =&gt; array(
            'label' =&gt; false,
            'div' =&gt; false
        )
    ));</code>
</pre>
<p>All inputs created from that point forward would inherit the
options declared in inputDefaults. You can override the
defaultOptions by declaring the option in the input() call.</p>
<pre>
<code class=
"php"> echo $this-&gt;Form-&gt;input('password'); // No div, no label
    echo $this-&gt;Form-&gt;input('username', array('label' =&gt; 'Username')); // has a label element</code>
</pre>
<h3>Omit attributes</h3>
<p>You can now set any attribute key to null or false in an
options/attributes array to omit that attribute from a particular
html tag.</p>
<pre>
<code class=
"php"> echo $this-&gt;Form-&gt;input('username', array('div' =&gt; array('class' =&gt; false))); // Omits the 'class' attribute added by default to div tag</code>
</pre>
<h3>Accept-charset</h3>
<p>Forms now get an accept-charset set automatically, it will match
the value of <code>App.encoding</code>, it can be overridden or
removed using the 'encoding' option when calling create().</p>
<pre>
<code class="php"> // To remove the accept-charset attribute.
    echo $this-&gt;Form-&gt;create('User', array('encoding' =&gt; null));</code>
</pre>
<h3>Removed parameters</h3>
<p>Many methods such as <code>select</code>, <code>year</code>,
<code>month</code>, <code>day</code>, <code>hour</code>,
<code>minute</code>, <code>meridian</code> and
<code>datetime</code> took a <code>$showEmpty</code> parameter,
these have all been removed and rolled into the
<code>$attributes</code> parameter using the <code>'empty'</code>
key.</p>
<h3>Default url</h3>
<p>The default url for forms either was <code>add</code> or
<code>edit</code> depending on whether or not a primary key was
detected in the data array. In 1.3 the default url will be the
current action, making the forms submit to the action you are
currently on.</p>
<h3>Disabling hidden inputs for radio and checkbox</h3>
<p>The automatically generated hidden inputs for radio and checkbox
inputs can be disabled with by setting the
<code>'hiddenField'</code> option to <code>false</code>.</p>
<h3>button()</h3>
<p>button() now creates button elements, these elements by default
do not have html entity encoding enabled. You can enabled html
escaping using the <code>escape</code> option. The former features
of <code>FormHelper::button</code> have been moved to
<code>FormHelper::submit</code>.</p>
<h3>submit()</h3>
<p>Due to changes in <code>button()</code>, <code>submit()</code>
can now generate reset, and other types of input buttons. Use the
<code>type</code> option to change the default type of button
generated. In addition to creating all types of buttons,
<code>submit()</code> has <code>before</code> and
<code>after</code> options that behave exactly like their
counterparts in <code>input()</code>.</p>

<hr />
<h3>訳注</h3>
<ul id="ref">
  <li><a name="ref1" id="ref1">*1.</a> イントロスペクション・・・Introspection、オブジェクトのメタデータを解析・取得すること。<a href="http://ja.wikipedia.org/wiki/%E5%8B%95%E7%9A%84%E3%83%97%E3%83%AD%E3%82%B0%E3%83%A9%E3%83%9F%E3%83%B3%E3%82%B0%E8%A8%80%E8%AA%9E#.E3.82.A4.E3.83.B3.E3.83.88.E3.83.AD.E3.82.B9.E3.83.9A.E3.82.AF.E3.82.B7.E3.83.A7.E3.83.B3" taget="_blank">wikipedia</a> | <a href="http://www.google.co.jp/search?hl=ja&safe=off&q=%E3%82%A4%E3%83%B3%E3%83%88%E3%83%AD%E3%82%B9%E3%83%9A%E3%82%AF%E3%82%B7%E3%83%A7%E3%83%B3&btnG=%E6%A4%9C%E7%B4%A2&lr=&aq=f&oq=">ググる</a></li>
</ul>